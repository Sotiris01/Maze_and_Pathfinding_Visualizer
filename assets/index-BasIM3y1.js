const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/statistics-DJ8MzFrZ.js","assets/vendor-react-Bc1F4Be7.js","assets/statistics-BHupjhAw.css","assets/HistorySection-BRP0lL1A.js","assets/HistorySection-BZXK0zaM.css"])))=>i.map(i=>d[i]);
import{r,j as e,c as Ve,R as qe}from"./vendor-react-Bc1F4Be7.js";import{d as Ue,g as Ke,j as Je,a as Ye,b as Qe,c as Ze,e as Xe,f as et,h as tt,i as st,k as nt,l as at,m as it,n as rt,o as ot,p as lt,q as ct,r as dt,s as ut,t as ht,u as gt,v as mt}from"./algorithms-FXGt7oCW.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function i(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(a){if(a.ep)return;a.ep=!0;const d=i(a);fetch(a.href,d)}})();const ft="modulepreload",pt=function(t){return"/Maze_and_Pathfinding_Visualizer/"+t},Ce={},ke=function(s,i,o){let a=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),u=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));a=Promise.allSettled(i.map(v=>{if(v=pt(v),v in Ce)return;Ce[v]=!0;const w=v.endsWith(".css"),G=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${G}`))return;const h=document.createElement("link");if(h.rel=w?"stylesheet":ft,w||(h.as="script"),h.crossOrigin="",h.href=v,u&&h.setAttribute("nonce",u),document.head.appendChild(h),w)return new Promise((C,F)=>{h.addEventListener("load",C),h.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${v}`)))})}))}function d(m){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=m,window.dispatchEvent(u),!u.defaultPrevented)throw m}return a.then(m=>{for(const u of m||[])u.status==="rejected"&&d(u.reason);return s().catch(d)})};var $=(t=>(t.DIJKSTRA="dijkstra",t.ASTAR="astar",t.BFS="bfs",t.DFS="dfs",t.GREEDY_BEST_FIRST="greedyBestFirst",t.BIDIRECTIONAL_BFS="bidirectionalBFS",t.BIDIRECTIONAL_ASTAR="bidirectionalAStar",t.JUMP_POINT_SEARCH="jumpPointSearch",t))($||{}),J=(t=>(t.RECURSIVE_DIVISION="recursiveDivision",t.RANDOMIZED_DFS="randomizedDFS",t.PRIMS="prims",t.SPIRAL="spiral",t.CELLULAR_AUTOMATA="cellularAutomata",t.TERRAIN_MAP="terrainMap",t))(J||{});const Ne=20,Ae=30,_t=(t,s,i,o,a,d)=>({row:t,col:s,isStart:t===i&&s===o,isFinish:t===a&&s===d,isWall:!1,isVisited:!1,distance:1/0,previousNode:null,weight:1}),vt=(t,s)=>{const i=Math.min(1,t-2),o=Math.min(1,s-2),a=Math.floor(t/2),d=Math.floor(s/2);return i===a&&o===d?{startRow:i,startCol:o,finishRow:Math.max(i+1,t-2),finishCol:Math.max(o+1,s-2)}:{startRow:i,startCol:o,finishRow:a,finishCol:d}},ye=(t=Ne,s=Ae)=>{const{startRow:i,startCol:o,finishRow:a,finishCol:d}=vt(t,s),m=[];for(let u=0;u<t;u++){const v=[];for(let w=0;w<s;w++)v.push(_t(u,w,i,o,a,d));m.push(v)}return m},St=1,He=10,xe=(t,s,i)=>{const o=t.slice(),a=o[s][i];if(a.isStart||a.isFinish||a.isWall)return t;const d={...a,isWall:!0,weight:1};return o[s]=o[s].slice(),o[s][i]=d,o},Me=(t,s,i)=>{const o=t.slice(),a=o[s][i];if(a.isStart||a.isFinish||!a.isWall)return t;const d={...a,isWall:!1,weight:1};return o[s]=o[s].slice(),o[s][i]=d,o},ze=(t,s,i)=>{const o=t[s][i];if(o.isFinish||o.isStart)return t;let a=-1,d=-1;for(let u=0;u<t.length;u++){for(let v=0;v<t[u].length;v++)if(t[u][v].isStart){a=u,d=v;break}if(a!==-1)break}if(a===-1)return t;const m=t.map(u=>u.slice());return m[a][d]={...m[a][d],isStart:!1},m[s][i]={...m[s][i],isStart:!0,isWall:!1},m},Ee=(t,s,i)=>{const o=t[s][i];if(o.isStart||o.isFinish)return t;let a=-1,d=-1;for(let u=0;u<t.length;u++){for(let v=0;v<t[u].length;v++)if(t[u][v].isFinish){a=u,d=v;break}if(a!==-1)break}if(a===-1)return t;const m=t.map(u=>u.slice());return m[a][d]={...m[a][d],isFinish:!1},m[s][i]={...m[s][i],isFinish:!0,isWall:!1},m},Le=t=>t.map(s=>s.map(i=>({...i,isVisited:!1,distance:1/0,previousNode:null}))),Fe=t=>t.map(s=>s.map(i=>({...i,isWall:!1,weight:1}))),je=(t,s,i)=>{const o=t.slice(),a=o[s][i];if(a.isStart||a.isFinish||a.isWall)return t;if(a.weight>=He){const m={...a,isWall:!0,weight:1};return o[s]=o[s].slice(),o[s][i]=m,o}const d={...a,weight:a.weight+1};return o[s]=o[s].slice(),o[s][i]=d,o},Oe=(t,s,i)=>{const o=t.slice(),a=o[s][i];if(a.isStart||a.isFinish)return t;if(a.isWall){const m={...a,isWall:!1,weight:He};return o[s]=o[s].slice(),o[s][i]=m,o}if(a.weight<=St)return t;const d={...a,weight:a.weight-1};return o[s]=o[s].slice(),o[s][i]=d,o},Ie="pathfinder_run_history",bt=50,We=[J.RECURSIVE_DIVISION,J.RANDOMIZED_DFS,J.PRIMS,J.SPIRAL],wt=()=>{const t=Math.floor(Math.random()*We.length);return We[t]},xt={grid:[],setGrid:()=>{},rowCount:Ne,colCount:Ae,resizeGrid:()=>{},isMousePressed:!1,setIsMousePressed:()=>{},drawMode:"WALL",setDrawMode:()=>{},isVisualizing:!1,setIsVisualizing:()=>{},selectedAlgorithm:$.DIJKSTRA,setSelectedAlgorithm:()=>{},isRaceMode:!1,setIsRaceMode:()=>{},secondAlgorithm:null,setSecondAlgorithm:()=>{},selectedMaze:J.RECURSIVE_DIVISION,setSelectedMaze:()=>{},animationSpeed:10,setAnimationSpeed:()=>{},visualizationStats:null,setVisualizationStats:()=>{},toastMsg:null,showToast:()=>{},clearToast:()=>{},isHiddenTargetMode:!1,setIsHiddenTargetMode:()=>{},runHistory:[],addRunRecord:()=>{},clearRunHistory:()=>{},deleteRunRecord:()=>{},resetBoard:()=>{},clearPath:()=>{},clearAllWalls:()=>{}},Ge=r.createContext(xt),Se=()=>{const t=r.useContext(Ge);if(!t)throw new Error("useGridContext must be used within a GridProvider");return t},jt=Se,Tt=({children:t})=>{const[s,i]=r.useState(Ne),[o,a]=r.useState(Ae),[d,m]=r.useState(()=>ye(Ne,Ae)),[u,v]=r.useState(!1),[w,G]=r.useState("WALL"),[h,C]=r.useState(!1),[F,P]=r.useState($.DIJKSTRA),[W,I]=r.useState(wt),[S,y]=r.useState(!1),[R,g]=r.useState(null),[x,p]=r.useState(10),[c,H]=r.useState(null),[T,E]=r.useState(null),[_,b]=r.useState(!1),[L,M]=r.useState(()=>{try{const B=localStorage.getItem(Ie);if(B)return JSON.parse(B)}catch{localStorage.removeItem(Ie)}return[]});r.useEffect(()=>{try{localStorage.setItem(Ie,JSON.stringify(L))}catch{}},[L]);const z=r.useCallback(B=>{E(B)},[]),N=r.useCallback(()=>{E(null)},[]),j=r.useCallback(B=>{const Z={...B,id:crypto.randomUUID(),timestamp:Date.now(),date:new Date().toISOString()};M(Y=>[Z,...Y].slice(0,bt))},[]),k=r.useCallback(()=>{M([])},[]),D=r.useCallback(B=>{M(Z=>Z.filter(Y=>Y.id!==B))},[]),Q=r.useCallback(()=>{h||m(ye(s,o))},[h,s,o]),te=r.useCallback((B,Z)=>{if(h)return;const Y=Math.max(5,Math.min(50,B)),ae=Math.max(5,Math.min(80,Z));i(Y),a(ae),m(ye(Y,ae))},[h]),me=r.useCallback(()=>{h||m(B=>Le(B))},[h]),fe=r.useCallback(()=>{h||m(B=>Fe(B))},[h]),le={grid:d,setGrid:m,rowCount:s,colCount:o,resizeGrid:te,isMousePressed:u,setIsMousePressed:v,drawMode:w,setDrawMode:G,isVisualizing:h,setIsVisualizing:C,selectedAlgorithm:F,setSelectedAlgorithm:P,isRaceMode:S,setIsRaceMode:y,secondAlgorithm:R,setSecondAlgorithm:g,selectedMaze:W,setSelectedMaze:I,animationSpeed:x,setAnimationSpeed:p,visualizationStats:c,setVisualizationStats:H,toastMsg:T,showToast:z,clearToast:N,isHiddenTargetMode:_,setIsHiddenTargetMode:b,runHistory:L,addRunRecord:j,clearRunHistory:k,deleteRunRecord:D,resetBoard:Q,clearPath:me,clearAllWalls:fe};return e.jsx(Ge.Provider,{value:le,children:t})},Nt="_node_1jzpp_39",At="_weightLabel_1jzpp_67",Rt="_hiddenTargetBlink_1jzpp_1",yt="_wallAnimation_1jzpp_1",It="_visitedGlow_1jzpp_1",Lt="_visitedOverlay_1jzpp_1",Ct="_pathPulse_1jzpp_1",Mt="_pathOverlay_1jzpp_1",zt="_weightAnimation_1jzpp_1",Et="_visitedGlowSecond_1jzpp_1",Ot="_visitedOverlaySecond_1jzpp_1",Wt="_pathOverlaySecond_1jzpp_1",Dt="_visitedGlowOverlap_1jzpp_1",$t="_pulseOverlap_1jzpp_1",Pt="_visitedOverlapOverlay_1jzpp_1",kt="_pathOverlapOverlay_1jzpp_1",oe={node:Nt,weightLabel:At,"node-start":"_node-start_1jzpp_95","node-finish":"_node-finish_1jzpp_117","node-finish-hidden":"_node-finish-hidden_1jzpp_141",hiddenTargetBlink:Rt,"node-wall":"_node-wall_1jzpp_187",wallAnimation:yt,"node-visited":"_node-visited_1jzpp_243",visitedGlow:It,visitedOverlay:Lt,"node-path":"_node-path_1jzpp_349",pathPulse:Ct,pathOverlay:Mt,"node-weight-2":"_node-weight-2_1jzpp_461",weightAnimation:zt,"node-weight-3":"_node-weight-3_1jzpp_475","node-weight-4":"_node-weight-4_1jzpp_489","node-weight-5":"_node-weight-5_1jzpp_503","node-weight-light":"_node-weight-light_1jzpp_505","node-weight-6":"_node-weight-6_1jzpp_529","node-weight-7":"_node-weight-7_1jzpp_551","node-weight-8":"_node-weight-8_1jzpp_583","node-weight-9":"_node-weight-9_1jzpp_613","node-weight-10":"_node-weight-10_1jzpp_643","node-weight-heavy":"_node-weight-heavy_1jzpp_645","node-disabled":"_node-disabled_1jzpp_709",visitedGlowSecond:Et,visitedOverlaySecond:Ot,pathOverlaySecond:Wt,visitedGlowOverlap:Dt,pulseOverlap:$t,visitedOverlapOverlay:Pt,pathOverlapOverlay:kt},Be=r.memo(({row:t,col:s,isStart:i,isFinish:o,isWall:a,isVisited:d,isPath:m=!1,weight:u=1,onMouseDown:v,onMouseEnter:w,onMouseUp:G,onTouchStart:h})=>{const{isHiddenTargetMode:C}=Se(),F=()=>{const I=[oe.node];return i?I.push(oe["node-start"]):o?C&&!d?I.push(oe["node-finish-hidden"]):I.push(oe["node-finish"]):m?I.push(oe["node-path"]):a?I.push(oe["node-wall"]):d?I.push(oe["node-visited"]):u>=2&&u<=10&&I.push(oe[`node-weight-${u}`]),I.join(" ")},P=()=>i||o?"":a?"‚àû":u.toString(),W=()=>{let I=`Node at row ${t}, column ${s}`;return i&&(I+=" (Start)"),o&&(I+=" (Finish)"),a&&(I+=" (Wall)"),u>1&&!a&&(I+=` (Weight: ${u})`),I};return e.jsx("div",{id:`node-${t}-${s}`,className:F(),"data-row":t,"data-col":s,onMouseDown:I=>v(t,s,I),onMouseEnter:()=>w(t,s),onMouseUp:G,onTouchStart:h?I=>h(t,s,I):void 0,role:"button",tabIndex:-1,"aria-label":W(),children:e.jsx("span",{className:oe.weightLabel,children:P()})})},(t,s)=>t.isStart===s.isStart&&t.isFinish===s.isFinish&&t.isWall===s.isWall&&t.isVisited===s.isVisited&&t.isPath===s.isPath&&t.weight===s.weight&&t.row===s.row&&t.col===s.col);Be.displayName="NodeComponent";const Ht="_boardContainer_lw5du_11",Ft="_board_lw5du_11",De={boardContainer:Ht,board:Ft},Gt=()=>{const{grid:t,setGrid:s,setIsMousePressed:i,isVisualizing:o,colCount:a,rowCount:d,isHiddenTargetMode:m,drawMode:u}=Se(),v=r.useRef(null),[w,G]=r.useState(25),h=r.useRef(!1),C=r.useRef(!1),F=r.useRef(!1),P=r.useRef(!1),W=r.useRef(u),I=r.useRef(new Set);r.useEffect(()=>{W.current=u},[u]);const S=r.useCallback(()=>{if(!v.current)return;const _=v.current,b=_.clientWidth,L=_.clientHeight,M=b-4,z=L-4,N=M/a,j=z/d,k=Math.max(10,Math.floor(Math.min(N,j)));G(k)},[a,d]);r.useEffect(()=>{const _=v.current;if(!_)return;S();const b=new ResizeObserver(()=>{S()});return b.observe(_),()=>{b.disconnect()}},[S]),r.useEffect(()=>{S()},[d,a,S]);const y=r.useCallback((_,b,L)=>{if(L.preventDefault(),o)return;const M=t[_][b];if(C.current=!0,i(!0),M.isStart){F.current=!0;return}if(M.isFinish){if(m)return;P.current=!0;return}const z=W.current,N=L.ctrlKey||L.metaKey;h.current=N,I.current.clear(),I.current.add(`${_}-${b}`),s(j=>z==="WALL"?N?Me(j,_,b):xe(j,_,b):N?Oe(j,_,b):je(j,_,b))},[t,s,i,o,m]),R=r.useCallback((_,b,L)=>{if(L.preventDefault(),o)return;const M=t[_][b];if(C.current=!0,i(!0),h.current=!1,M.isStart){F.current=!0;return}if(M.isFinish){if(m)return;P.current=!0;return}const z=W.current;I.current.clear(),I.current.add(`${_}-${b}`),s(N=>z==="WALL"?xe(N,_,b):je(N,_,b))},[t,s,i,o,m]),g=r.useCallback((_,b)=>{if(!C.current||o)return;const L=`${_}-${b}`;if(F.current){s(M=>ze(M,_,b));return}if(P.current){s(M=>Ee(M,_,b));return}W.current==="WALL"&&I.current.has(L)||(I.current.add(L),s(M=>W.current==="WALL"?h.current?Me(M,_,b):xe(M,_,b):h.current?Oe(M,_,b):je(M,_,b)))},[s,o]),x=r.useCallback(_=>{if(!C.current||o)return;const b=_.touches[0],L=document.elementFromPoint(b.clientX,b.clientY);if(!L)return;const M=L.closest("[data-row][data-col]");if(!M)return;const z=parseInt(M.getAttribute("data-row")||"-1",10),N=parseInt(M.getAttribute("data-col")||"-1",10);if(z<0||N<0||z>=d||N>=a)return;const j=`${z}-${N}`;if(F.current){s(k=>ze(k,z,N));return}if(P.current){s(k=>Ee(k,z,N));return}W.current==="WALL"&&I.current.has(j)||(I.current.add(j),s(k=>W.current==="WALL"?xe(k,z,N):je(k,z,N)))},[s,o,d,a]),p=r.useCallback(()=>{C.current=!1,h.current=!1,F.current=!1,P.current=!1,I.current.clear(),i(!1)},[i]),c=r.useCallback(()=>{C.current=!1,h.current=!1,F.current=!1,P.current=!1,I.current.clear(),i(!1)},[i]);r.useEffect(()=>{const _=()=>{C.current&&(C.current=!1,h.current=!1,F.current=!1,P.current=!1,I.current.clear(),i(!1))};return document.addEventListener("mouseup",_),()=>{document.removeEventListener("mouseup",_)}},[i]);const H=_=>{_.preventDefault()},T=_=>{_.preventDefault()},E={display:"grid",gridTemplateColumns:`repeat(${a}, ${w}px)`,gridTemplateRows:`repeat(${d}, ${w}px)`,"--node-size":`${w}px`};return e.jsx("div",{ref:v,className:De.boardContainer,onMouseLeave:c,onDragStart:H,onContextMenu:T,onTouchMove:x,onTouchEnd:p,children:e.jsx("div",{className:De.board,style:E,role:"presentation","aria-label":"Pathfinding Grid",children:t.map(_=>_.map(b=>e.jsx(Be,{row:b.row,col:b.col,isStart:b.isStart,isFinish:b.isFinish,isWall:b.isWall,isVisited:b.isVisited,weight:b.weight,onMouseDown:y,onMouseEnter:g,onMouseUp:c,onTouchStart:R},`${b.row}-${b.col}`)))})})},Bt="_accordion_cl2ht_11",Vt="_open_cl2ht_35",qt="_header_cl2ht_47",Ut="_titleWrapper_cl2ht_99",Kt="_icon_cl2ht_111",Jt="_title_cl2ht_99",Yt="_chevron_cl2ht_137",Qt="_chevronOpen_cl2ht_149",Zt="_contentWrapper_cl2ht_177",Xt="_content_cl2ht_177",ne={accordion:Bt,open:Vt,header:qt,titleWrapper:Ut,icon:Kt,title:Jt,chevron:Yt,chevronOpen:Qt,contentWrapper:Zt,content:Xt},Te=({title:t,icon:s,children:i,defaultOpen:o=!1,isOpen:a,onToggle:d})=>{const[m,u]=r.useState(o),v=a!==void 0,w=v?a:m,G=r.useRef(null),[h,C]=r.useState(o?void 0:0);r.useEffect(()=>{if(G.current){const W=G.current.scrollHeight;C(w?W:0)}},[w,i]);const F=()=>{v&&d?d():u(!m)},P=W=>{(W.key==="Enter"||W.key===" ")&&(W.preventDefault(),F())};return e.jsxs("div",{className:`${ne.accordion} ${w?ne.open:""}`,children:[e.jsxs("button",{className:ne.header,onClick:F,onKeyDown:P,"aria-expanded":w?"true":"false",type:"button",children:[e.jsxs("span",{className:ne.titleWrapper,children:[s&&e.jsx("span",{className:ne.icon,children:s}),e.jsx("span",{className:ne.title,children:t})]}),e.jsx("svg",{className:`${ne.chevron} ${w?ne.chevronOpen:""}`,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M4 6L8 10L12 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),e.jsx("div",{className:ne.contentWrapper,style:{height:h!==void 0?`${h}px`:"auto"},children:e.jsx("div",{ref:G,className:ne.content,children:i})})]})},es="_panel_1sc8v_7",ts="_panelHeader_1sc8v_30",ss="_panelTitle_1sc8v_36",ns="_panelSubtitle_1sc8v_44",as="_primarySection_1sc8v_54",is="_quickActions_1sc8v_67",rs="_buttonQuick_1sc8v_73",os="_accordionContainer_1sc8v_98",ls="_controlGroup_1sc8v_107",cs="_currentSelection_1sc8v_114",ds="_currentLabel_1sc8v_125",us="_currentValue_1sc8v_132",hs="_badgeOptimal_1sc8v_139",gs="_badgeSuboptimal_1sc8v_150",ms="_label_1sc8v_162",fs="_labelSecondary_1sc8v_170",ps="_hint_1sc8v_179",_s="_modeSection_1sc8v_190",vs="_modeSectionTitle_1sc8v_196",Ss="_gridSizeSection_1sc8v_205",bs="_select_1sc8v_212",ws="_selectSecondary_1sc8v_265",xs="_toggleRow_1sc8v_279",js="_toggleInfo_1sc8v_286",Ts="_toggleLabel_1sc8v_292",Ns="_toggleDesc_1sc8v_298",As="_toggle_1sc8v_279",Rs="_toggleKnob_1sc8v_325",ys="_toggleActive_1sc8v_337",Is="_buttonPrimary_1sc8v_350",Ls="_buttonRace_1sc8v_386",Cs="_buttonSecondary_1sc8v_396",Ms="_buttonGhost_1sc8v_422",zs="_mazeActions_1sc8v_454",Es="_spinner_1sc8v_462",Os="_sliderHeader_1sc8v_478",Ws="_sliderValue_1sc8v_484",Ds="_slider_1sc8v_478",$s="_sliderLabels_1sc8v_545",Ps="_footer_1sc8v_554",ks="_instructionTitle_1sc8v_561",Hs="_instructionList_1sc8v_570",Fs="_nodeHint_1sc8v_598",l={panel:es,panelHeader:ts,panelTitle:ss,panelSubtitle:ns,primarySection:as,quickActions:is,buttonQuick:rs,accordionContainer:os,controlGroup:ls,currentSelection:cs,currentLabel:ds,currentValue:us,badgeOptimal:hs,badgeSuboptimal:gs,label:ms,labelSecondary:fs,hint:ps,modeSection:_s,modeSectionTitle:vs,gridSizeSection:Ss,select:bs,selectSecondary:ws,toggleRow:xs,toggleInfo:js,toggleLabel:Ts,toggleDesc:Ns,toggle:As,toggleKnob:Rs,toggleActive:ys,buttonPrimary:Is,buttonRace:Ls,buttonSecondary:Cs,buttonGhost:Ms,mazeActions:zs,spinner:Es,sliderHeader:Os,sliderValue:Ws,slider:Ds,sliderLabels:$s,footer:Ps,instructionTitle:ks,instructionList:Hs,nodeHint:Fs},he=[{value:$.DIJKSTRA,label:"Dijkstra ‚Äî Guarantees Shortest Path",shortLabel:"Dijkstra",usesHeuristic:!1,guaranteesShortestPath:!0,category:"weighted",supportsWeights:!0},{value:$.ASTAR,label:"A* Search ‚Äî Fast & Optimal",shortLabel:"A*",usesHeuristic:!0,guaranteesShortestPath:!0,category:"weighted",supportsWeights:!0},{value:$.JUMP_POINT_SEARCH,label:"Jump Point Search ‚Äî Optimized A*",shortLabel:"JPS",usesHeuristic:!0,guaranteesShortestPath:!0,category:"weighted",supportsWeights:!1},{value:$.BFS,label:"BFS ‚Äî Shortest Path (Unweighted)",shortLabel:"BFS",usesHeuristic:!1,guaranteesShortestPath:!0,category:"unweighted",supportsWeights:!1},{value:$.DFS,label:"DFS ‚Äî Explores Deeply (Not Shortest)",shortLabel:"DFS",usesHeuristic:!1,guaranteesShortestPath:!1,category:"unweighted",supportsWeights:!1},{value:$.GREEDY_BEST_FIRST,label:"Greedy Best-First ‚Äî Fast but Suboptimal",shortLabel:"Greedy",usesHeuristic:!0,guaranteesShortestPath:!1,category:"unweighted",supportsWeights:!1},{value:$.BIDIRECTIONAL_BFS,label:"Bidirectional BFS ‚Äî Searches Both Ends",shortLabel:"Bi-BFS",usesHeuristic:!0,guaranteesShortestPath:!0,category:"bidirectional",supportsWeights:!1},{value:$.BIDIRECTIONAL_ASTAR,label:"Bidirectional A* ‚Äî Advanced Optimal",shortLabel:"Bi-A*",usesHeuristic:!0,guaranteesShortestPath:!0,category:"bidirectional",supportsWeights:!0}],Gs=[{value:J.RECURSIVE_DIVISION,label:"Recursive Division",description:"Creates rooms with passages"},{value:J.RANDOMIZED_DFS,label:"Randomized DFS",description:"Long, winding corridors"},{value:J.PRIMS,label:"Prim's Algorithm",description:"Organic, branching paths"},{value:J.CELLULAR_AUTOMATA,label:"Cellular Automata",description:"Cave-like structures"},{value:J.SPIRAL,label:"Spiral Pattern",description:"Spiraling maze pattern"}],$e=[{value:"smooth",label:"Smooth",description:"Large, rolling hills",frequency:.06},{value:"medium",label:"Medium",description:"Balanced terrain",frequency:.12},{value:"rough",label:"Rough",description:"Detailed landscape",frequency:.2},{value:"jagged",label:"Jagged",description:"Extreme variation",frequency:.35}],Pe=900;function Bs(){const[t,s]=r.useState(typeof window<"u"&&window.innerWidth<=Pe);return r.useEffect(()=>{const i=()=>{s(window.innerWidth<=Pe)};return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[]),t}const Vs=({onVisualize:t,onClearPath:s,onGenerateMaze:i,onVisualizeRace:o,onMobileAction:a})=>{const d=Bs(),{setGrid:m,selectedAlgorithm:u,setSelectedAlgorithm:v,selectedMaze:w,setSelectedMaze:G,isVisualizing:h,isRaceMode:C,setIsRaceMode:F,secondAlgorithm:P,setSecondAlgorithm:W,rowCount:I,colCount:S,resizeGrid:y,resetBoard:R,clearAllWalls:g,animationSpeed:x,setAnimationSpeed:p,isHiddenTargetMode:c,setIsHiddenTargetMode:H,drawMode:T,setDrawMode:E}=Se(),[_,b]=r.useState("medium"),[L,M]=r.useState(.7),[z,N]=r.useState("maze");r.useEffect(()=>{z==="terrain"&&T!=="WEIGHT"?(k(u)||v($.DIJKSTRA),P&&!k(P)&&W($.ASTAR),E("WEIGHT")):z==="maze"&&T!=="WALL"&&(m(n=>n.map(f=>f.map(O=>O.isStart||O.isFinish||O.isWall?O:O.weight>5?{...O,isWall:!0,weight:1}:O.weight>1?{...O,weight:1}:O))),E("WALL"))},[z]);const j=n=>{const f=he.find(O=>O.value===n);return(f==null?void 0:f.usesHeuristic)??!1},k=n=>{const f=he.find(O=>O.value===n);return(f==null?void 0:f.supportsWeights)??!1},D=n=>!!(c&&j(n)||T==="WEIGHT"&&!k(n)),Q=n=>{const f=n.target.value;if(c&&j(f)){v($.DIJKSTRA);return}if(T==="WEIGHT"&&!k(f)){v($.DIJKSTRA);return}v(f)},te=n=>{const f=n.target.value;if(c&&j(f)){W($.BFS);return}if(T==="WEIGHT"&&!k(f)){W($.DIJKSTRA);return}W(f)},me=()=>{if(h)return;const n=!c;H(n),n&&(j(u)&&v($.DIJKSTRA),P&&j(P)&&W($.BFS))},fe=()=>{if(h)return;const n=!C;if(F(n),n&&!P){const f=u===$.DIJKSTRA?$.ASTAR:$.DIJKSTRA;W(f)}},le=()=>{C&&P?o():t(),d&&a&&setTimeout(()=>a(),150)},B=n=>{G(n.target.value)},Z=n=>{b(n.target.value)},Y=()=>{i(w),d&&a&&setTimeout(()=>a(),150)},ae=()=>{s(),d&&a&&setTimeout(()=>a(),150)},pe=()=>{R(),d&&a&&setTimeout(()=>a(),150)},ue=()=>{g(),m(n=>n.map(f=>f.map(O=>({...O,weight:1})))),d&&a&&setTimeout(()=>a(),150)},_e=()=>{const n=$e.find(f=>f.value===_);i(J.TERRAIN_MAP,{frequency:(n==null?void 0:n.frequency)??.12,intensity:L}),d&&a&&setTimeout(()=>a(),150)},ie=n=>{const f=parseInt(n.target.value,10);y(f,S)},A=n=>{const f=parseInt(n.target.value,10);y(I,f)},be=n=>{const f=parseInt(n.target.value,10);p(f)},we=()=>x<=5?"Very Fast":x<=10?"Fast":x<=20?"Normal":x<=40?"Slow":"Very Slow",ce=he.find(n=>n.value===u),V=he.filter(n=>n.category==="weighted"),X=he.filter(n=>n.category==="unweighted"),q=he.filter(n=>n.category==="bidirectional");return e.jsxs("aside",{className:l.panel,children:[e.jsxs("header",{className:l.panelHeader,children:[e.jsx("h2",{className:l.panelTitle,children:"Controls"}),e.jsx("p",{className:l.panelSubtitle,children:"Configure & Visualize"})]}),e.jsxs("div",{className:l.primarySection,children:[e.jsx("button",{onClick:le,disabled:h||C&&!P,className:`${l.buttonPrimary} ${C?l.buttonRace:""}`,children:h?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:l.spinner}),"Visualizing..."]}):C?"üèÅ Start Race!":"‚ñ∂ Visualize Path"}),e.jsxs("div",{className:l.quickActions,children:[e.jsx("button",{onClick:ae,disabled:h,className:l.buttonQuick,title:"Clear visualized path",children:"üîÑ Clear Path"}),e.jsx("button",{onClick:pe,disabled:h,className:l.buttonQuick,title:"Reset entire board",children:"üóëÔ∏è Reset"})]})]}),e.jsxs("div",{className:l.accordionContainer,children:[e.jsxs(Te,{title:"Algorithm",icon:"ü§ñ",defaultOpen:!0,children:[ce&&e.jsxs("div",{className:l.currentSelection,children:[e.jsx("span",{className:l.currentLabel,children:"Selected:"}),e.jsx("span",{className:l.currentValue,children:ce.shortLabel}),ce.guaranteesShortestPath?e.jsx("span",{className:l.badgeOptimal,children:"‚úì Optimal"}):e.jsx("span",{className:l.badgeSuboptimal,children:"Not Shortest"})]}),e.jsxs("div",{className:l.controlGroup,children:[e.jsx("label",{className:l.label,children:"Choose Algorithm"}),e.jsxs("select",{value:u,onChange:Q,disabled:h,className:l.select,title:"Select pathfinding algorithm",children:[e.jsx("optgroup",{label:"‚≠ê Optimal Algorithms",children:V.map(n=>{const f=D(n.value),O=c&&n.usesHeuristic?" (Hidden Mode)":T==="WEIGHT"&&!n.supportsWeights?" (Unweighted)":"";return e.jsxs("option",{value:n.value,disabled:f,children:[n.label,O]},n.value)})}),e.jsx("optgroup",{label:"üîç Exploration Algorithms",children:X.map(n=>{const f=D(n.value),O=c&&n.usesHeuristic?" (Hidden Mode)":T==="WEIGHT"&&!n.supportsWeights?" (Unweighted)":"";return e.jsxs("option",{value:n.value,disabled:f,children:[n.label,O]},n.value)})}),e.jsx("optgroup",{label:"üöÄ Advanced (Bidirectional)",children:q.map(n=>{const f=D(n.value),O=c&&n.usesHeuristic?" (Hidden Mode)":T==="WEIGHT"&&!n.supportsWeights?" (Unweighted)":"";return e.jsxs("option",{value:n.value,disabled:f,children:[n.label,O]},n.value)})})]}),c&&e.jsx("p",{className:l.hint,children:"‚ö†Ô∏è Heuristic algorithms disabled in Hidden Mode"}),T==="WEIGHT"&&e.jsx("p",{className:l.hint,children:"‚öñÔ∏è Unweighted algorithms disabled due to terrain"})]}),e.jsxs("div",{className:l.modeSection,children:[e.jsx("div",{className:l.modeSectionTitle,children:"Game Modes"}),e.jsxs("div",{className:l.toggleRow,children:[e.jsxs("div",{className:l.toggleInfo,children:[e.jsx("span",{className:l.toggleLabel,children:"üïµÔ∏è Hidden Target"}),e.jsx("span",{className:l.toggleDesc,children:"Fog of War mode"})]}),e.jsx("button",{type:"button",className:`${l.toggle} ${c?l.toggleActive:""}`,onClick:me,disabled:h,"aria-pressed":c?"true":"false",title:"Hide target node (Fog of War mode)",children:e.jsx("span",{className:l.toggleKnob})})]}),e.jsxs("div",{className:l.toggleRow,children:[e.jsxs("div",{className:l.toggleInfo,children:[e.jsx("span",{className:l.toggleLabel,children:"üèÅ Race Mode"}),e.jsx("span",{className:l.toggleDesc,children:"Compare algorithms"})]}),e.jsx("button",{type:"button",className:`${l.toggle} ${C?l.toggleActive:""}`,onClick:fe,disabled:h,"aria-pressed":C?"true":"false",title:"Toggle race mode to compare two algorithms",children:e.jsx("span",{className:l.toggleKnob})})]})]}),C&&e.jsxs("div",{className:l.controlGroup,children:[e.jsx("label",{className:l.labelSecondary,children:"üü† Agent 2 Algorithm"}),e.jsxs("select",{value:P||"",onChange:te,disabled:h,className:`${l.select} ${l.selectSecondary}`,title:"Select second algorithm for race mode",children:[e.jsx("optgroup",{label:"‚≠ê Optimal",children:V.map(n=>{const f=n.value===u,O=D(n.value),U=f||O,de=f?" (Agent 1)":c&&n.usesHeuristic?" (Hidden)":T==="WEIGHT"&&!n.supportsWeights?" (Unweighted)":"";return e.jsxs("option",{value:n.value,disabled:U,children:[n.shortLabel,de]},n.value)})}),e.jsx("optgroup",{label:"üîç Exploration",children:X.map(n=>{const f=n.value===u,O=D(n.value),U=f||O,de=f?" (Agent 1)":c&&n.usesHeuristic?" (Hidden)":T==="WEIGHT"&&!n.supportsWeights?" (Unweighted)":"";return e.jsxs("option",{value:n.value,disabled:U,children:[n.shortLabel,de]},n.value)})}),e.jsx("optgroup",{label:"üöÄ Advanced",children:q.map(n=>{const f=n.value===u,O=D(n.value),U=f||O,de=f?" (Agent 1)":c&&n.usesHeuristic?" (Hidden)":T==="WEIGHT"&&!n.supportsWeights?" (Unweighted)":"";return e.jsxs("option",{value:n.value,disabled:U,children:[n.shortLabel,de]},n.value)})})]})]})]}),e.jsxs(Te,{title:"Maze Generator",icon:"üß©",isOpen:z==="maze",onToggle:()=>N(z==="maze"?"terrain":"maze"),children:[e.jsxs("div",{className:l.controlGroup,children:[e.jsx("label",{className:l.label,children:"Maze Type"}),e.jsx("select",{value:w||"none",onChange:B,disabled:h,className:l.select,title:"Select maze generation algorithm",children:Gs.map(n=>e.jsxs("option",{value:n.value,children:[n.label," ‚Äî ",n.description]},n.value))})]}),e.jsxs("div",{className:l.mazeActions,children:[e.jsx("button",{onClick:Y,disabled:h||!w,className:l.buttonSecondary,children:"üî® Generate"}),e.jsx("button",{onClick:ue,disabled:h,className:l.buttonGhost,children:"‚úï Clear Board"})]}),e.jsx("p",{className:l.hint,children:"Click: wall, Ctrl+click: remove"})]}),e.jsxs(Te,{title:"Terrain Generation",icon:"üèîÔ∏è",isOpen:z==="terrain",onToggle:()=>N(z==="terrain"?"maze":"terrain"),children:[e.jsx("p",{className:l.hint,children:"Click: 1‚Üí2‚Üí...‚Üí10‚Üí‚àû, Ctrl+click: decrement"}),e.jsxs("div",{className:l.controlGroup,children:[e.jsx("label",{className:l.label,children:"Terrain Smoothness"}),e.jsx("select",{value:_,onChange:Z,disabled:h,className:l.select,title:"Adjust terrain feature scale",children:$e.map(n=>e.jsxs("option",{value:n.value,children:[n.label," ‚Äî ",n.description]},n.value))})]}),e.jsxs("div",{className:l.controlGroup,children:[e.jsxs("label",{className:l.label,children:["Peak Intensity: ",Math.round((1-L)*100),"%"]}),e.jsx("input",{type:"range",min:"0.3",max:"1.2",step:"0.05",value:L,onChange:n=>M(parseFloat(n.target.value)),disabled:h,className:l.slider,title:"Lower = more high-weight peaks, Higher = more low-weight valleys"}),e.jsxs("div",{className:l.sliderLabels,children:[e.jsx("span",{children:"More Peaks"}),e.jsx("span",{children:"More Valleys"})]})]}),e.jsxs("div",{className:l.mazeActions,children:[e.jsx("button",{onClick:_e,disabled:h,className:l.buttonSecondary,title:"Generate terrain map",children:"üèîÔ∏è Generate Terrain"}),e.jsx("button",{onClick:ue,disabled:h,className:l.buttonGhost,children:"‚úï Clear Board"})]})]}),e.jsxs(Te,{title:"Settings",icon:"‚öôÔ∏è",children:[e.jsxs("div",{className:l.controlGroup,children:[e.jsxs("div",{className:l.sliderHeader,children:[e.jsx("label",{className:l.label,children:"Animation Speed"}),e.jsx("span",{className:l.sliderValue,children:we()})]}),e.jsx("input",{type:"range",min:"1",max:"50",value:x,onChange:be,disabled:h,className:l.slider,title:"Adjust animation speed"}),e.jsxs("div",{className:l.sliderLabels,children:[e.jsx("span",{children:"Fast"}),e.jsx("span",{children:"Slow"})]})]}),e.jsxs("div",{className:l.gridSizeSection,children:[e.jsx("div",{className:l.modeSectionTitle,children:"Grid Size"}),e.jsxs("div",{className:l.controlGroup,children:[e.jsxs("div",{className:l.sliderHeader,children:[e.jsx("label",{className:l.label,children:"Rows"}),e.jsx("span",{className:l.sliderValue,children:I})]}),e.jsx("input",{type:"range",min:"5",max:"40",value:I,onChange:ie,disabled:h,className:l.slider,title:"Adjust number of rows"})]}),e.jsxs("div",{className:l.controlGroup,children:[e.jsxs("div",{className:l.sliderHeader,children:[e.jsx("label",{className:l.label,children:"Columns"}),e.jsx("span",{className:l.sliderValue,children:S})]}),e.jsx("input",{type:"range",min:"5",max:"60",value:S,onChange:A,disabled:h,className:l.slider,title:"Adjust number of columns"})]})]})]})]}),e.jsxs("footer",{className:l.footer,children:[e.jsx("div",{className:l.instructionTitle,children:"Quick Tips"}),e.jsxs("ul",{className:l.instructionList,children:[e.jsxs("li",{children:[e.jsx("kbd",{children:"Click"})," + drag to draw walls"]}),e.jsxs("li",{children:[e.jsx("kbd",{children:"Ctrl"})," + click to erase"]}),e.jsxs("li",{children:["Drag ",e.jsx("span",{className:l.nodeHint,children:"üü¢"})," or"," ",e.jsx("span",{className:l.nodeHint,children:"üî¥"})," to move"]})]})]})]})},qs="_legend_1tefh_11",Us="_title_1tefh_31",Ks="_items_1tefh_45",Js="_item_1tefh_45",Ys="_colorBox_1tefh_69",Qs="_glowingA1_1tefh_89",Zs="_glowingA2_1tefh_99",Xs="_glowingOverlap_1tefh_109",en="_weightText_1tefh_119",tn="_label_1tefh_133",sn="_vertical_1tefh_147",nn="_compact_1tefh_169",an="_horizontal_1tefh_207",se={legend:qs,title:Us,items:Ks,item:Js,colorBox:Ys,glowingA1:Qs,glowingA2:Zs,glowingOverlap:Xs,weightText:en,label:tn,vertical:sn,compact:nn,horizontal:an},rn=[{label:"Start",color:"#4caf50",border:"2px solid #2e7d32"},{label:"Target",color:"#f44336",border:"2px solid #c62828"},{label:"Wall",color:"#34495e",border:"2px solid #2c3e50"},{label:"Visited (A1)",color:"#b8c6db",glow:"a1"},{label:"Path (A1)",color:"#1565c0",border:"3px solid #0d47a1"},{label:"Visited (A2)",color:"#b8c6db",glow:"a2"},{label:"Path (A2)",color:"#fdd835",border:"3px solid #f9a825"},{label:"Visited Overlap",color:"#b8c6db",glow:"overlap"},{label:"Path Overlap",color:"#43a047",border:"3px solid #2e7d32"},{label:"Weight 1",color:"#f5f0e6",text:"1"},{label:"Weight 5",color:"#b8c6db",text:"5"},{label:"Weight 10",color:"#64748b",text:"10"}],on=({orientation:t="horizontal",compact:s=!1})=>e.jsxs("div",{className:`${se.legend} ${se[t]} ${s?se.compact:""}`,role:"region","aria-label":"Color Legend",children:[e.jsx("span",{className:se.title,children:"Legend:"}),e.jsx("div",{className:se.items,children:rn.map(i=>e.jsxs("div",{className:se.item,children:[e.jsx("div",{className:`${se.colorBox} ${i.glow==="a1"?se.glowingA1:""} ${i.glow==="a2"?se.glowingA2:""} ${i.glow==="overlap"?se.glowingOverlap:""}`,style:{background:i.gradient||i.color,border:i.border||"none"},"aria-hidden":"true",children:i.text&&e.jsx("span",{className:se.weightText,children:i.text})}),e.jsx("span",{className:se.label,children:i.label})]},i.label))})]}),ln="_toastContainer_1cmex_11",cn="_toast_1cmex_11",dn="_slideUp_1cmex_1",un="_error_1cmex_65",hn="_success_1cmex_75",gn="_warning_1cmex_85",mn="_exiting_1cmex_95",fn="_slideDown_1cmex_1",pn="_icon_1cmex_103",_n="_message_1cmex_113",ge={toastContainer:ln,toast:cn,slideUp:dn,error:un,success:hn,warning:gn,exiting:mn,slideDown:fn,icon:pn,message:_n},vn=()=>{const{toastMsg:t,clearToast:s}=jt(),[i,o]=r.useState(!1);if(r.useEffect(()=>{if(!t){o(!1);return}const v=setTimeout(()=>{o(!0)},2700),w=setTimeout(()=>{s(),o(!1)},3e3);return()=>{clearTimeout(v),clearTimeout(w)}},[t,s]),!t)return null;const d=(()=>{if(t.toLowerCase().includes("unreachable")||t.toLowerCase().includes("no path"))return"error";if(t.toLowerCase().includes("warning"))return"warning";if(t.toLowerCase().includes("success")||t.toLowerCase().includes("complete"))return"success"})(),m=()=>{switch(d){case"error":return"‚ö†Ô∏è";case"warning":return"‚ö°";case"success":return"‚úì";default:return"‚ÑπÔ∏è"}},u=[ge.toast,d?ge[d]:"",i?ge.exiting:""].filter(Boolean).join(" ");return e.jsx("div",{className:ge.toastContainer,children:e.jsxs("div",{className:u,role:"alert","aria-live":"polite",children:[e.jsx("span",{className:ge.icon,children:m()}),e.jsx("span",{className:ge.message,children:t})]})})};function ve(t){return t.length<=1?-1:t.reduce((s,i)=>s+i.weight,0)}const Sn=200;let bn=0;function wn(){const t=r.useRef(null),s=r.useRef(new Map),i=r.useCallback(()=>(t.current||(t.current=new Worker(new URL("/Maze_and_Pathfinding_Visualizer/assets/benchmark.worker-CFcNIuoo.js",import.meta.url),{type:"module"}),t.current.onmessage=u=>{const{requestId:v,success:w,data:G,error:h}=u.data,C=s.current.get(v);C&&(w&&G?C.resolve(G):C.reject(new Error(h||"Benchmark failed")),s.current.delete(v))},t.current.onerror=u=>{const v=new Error("Worker error: "+u.message);s.current.forEach(w=>{w.reject(v)}),s.current.clear()}),t.current),[]),o=r.useCallback(u=>u.map(v=>v.map(w=>({row:w.row,col:w.col,isStart:w.isStart,isFinish:w.isFinish,isWall:w.isWall}))),[]),a=r.useCallback(u=>{let v=null,w=null;for(const G of u)for(const h of G)h.isStart&&(v={row:h.row,col:h.col}),h.isFinish&&(w={row:h.row,col:h.col});return!v||!w?null:{startPos:v,finishPos:w}},[]),d=r.useCallback(async(u,v,w=Sn)=>{const G=i(),h=a(v);if(!h)throw new Error("Start or Finish node not found");const C=o(v),F=++bn;return new Promise((P,W)=>{s.current.set(F,{resolve:P,reject:W}),G.postMessage({requestId:F,algorithmName:u,gridData:C,startPos:h.startPos,finishPos:h.finishPos,minDuration:w})})},[i,a,o]),m=r.useCallback(()=>{t.current&&(t.current.terminate(),t.current=null),s.current.forEach(u=>{u.reject(new Error("Worker terminated"))}),s.current.clear()},[]);return r.useEffect(()=>()=>{m()},[m]),{runBenchmark:d,terminateWorker:m}}const xn=()=>{const t=r.useRef(!1),s=r.useRef([]),{runBenchmark:i}=wn(),o=1e3,a=r.useCallback(()=>{s.current.forEach(S=>clearTimeout(S)),s.current=[]},[]),d=r.useCallback(()=>{const S=document.querySelectorAll(".node-visited"),y=document.querySelectorAll(".node-path"),R=document.querySelectorAll(".node-visited-second"),g=document.querySelectorAll(".node-path-second"),x=document.querySelectorAll(".node-visited-overlap"),p=document.querySelectorAll(".node-path-overlap");S.forEach(c=>{c.classList.remove("node-visited")}),y.forEach(c=>{c.classList.remove("node-path")}),R.forEach(c=>{c.classList.remove("node-visited-second")}),g.forEach(c=>{c.classList.remove("node-path-second")}),x.forEach(c=>{c.classList.remove("node-visited-overlap")}),p.forEach(c=>{c.classList.remove("node-path-overlap")})},[]),m=r.useCallback((S,y)=>{a(),t.current=!1,d(),y(Le(S))},[a,d]),u=r.useCallback((S,y,R)=>{for(let g=0;g<S.length;g++){const x=setTimeout(()=>{const p=S[g];if(p.isStart||p.isFinish){g===S.length-1&&R();return}const c=document.getElementById(`node-${p.row}-${p.col}`);c&&c.classList.add("node-visited"),g===S.length-1&&R()},g*y);s.current.push(x)}},[]),v=r.useCallback((S,y,R)=>{for(let g=0;g<S.length;g++){const x=setTimeout(()=>{const p=S[g];if(p.isStart||p.isFinish){g===S.length-1&&R();return}const c=document.getElementById(`node-${p.row}-${p.col}`);c&&(c.classList.remove("node-visited"),c.classList.add("node-path")),g===S.length-1&&R()},g*(y*3));s.current.push(x)}},[]),w=r.useCallback((S,y,R,g)=>{let x=[],p=[];switch(S){case $.ASTAR:x=ot(y,R,g),p=lt(g);break;case $.BFS:x=it(y,R,g),p=rt(g);break;case $.DFS:x=nt(y,R,g),p=at(g);break;case $.GREEDY_BEST_FIRST:x=tt(y,R,g),p=st(g);break;case $.BIDIRECTIONAL_BFS:x=Xe(y,R,g),p=et(g);break;case $.BIDIRECTIONAL_ASTAR:x=Qe(y,R,g),p=Ze(g);break;case $.JUMP_POINT_SEARCH:x=Je(y,R,g),p=Ye(g);break;case $.DIJKSTRA:default:x=Ue(y,R,g),p=Ke(g);break}return{visitedNodes:x,pathNodes:p}},[]),G=r.useCallback(async(S,y,R,g,x,p)=>{if(t.current)return;a(),d(),t.current=!0,g(!0);let c=null;try{c=await i(S,y,o)}catch{c=null}const H=y.map(Q=>Q.map(te=>({...te,isVisited:!1,distance:1/0,previousNode:null})));let T=null,E=null;for(const Q of H)for(const te of Q)te.isStart&&(T=te),te.isFinish&&(E=te);if(!T||!E){t.current=!1,g(!1);return}const _=performance.now(),{visitedNodes:b,pathNodes:L}=w(S,H,T,E),M=performance.now()-_,z=(c==null?void 0:c.avgTime)??M,N=b,j=L,k=j.length>1,D={algorithm:S,executionTime:z,visitedCount:N.length,pathLength:ve(j)};u(N,x,()=>{if(!k){t.current=!1,g(!1),p&&(p.setVisualizationStats(D),p.addRunRecord&&p.gridSize&&p.addRunRecord({mode:"Single",algorithm1:D.algorithm,gridSize:p.gridSize,time1:D.executionTime,pathLength1:D.pathLength,visitedCount1:D.visitedCount}),p.showToast&&p.showToast("Target is unreachable! No path exists."),setTimeout(()=>{p.scrollToStats()},500));return}const Q=setTimeout(()=>{v(j,x,()=>{t.current=!1,g(!1),p&&(p.setVisualizationStats(D),p.addRunRecord&&p.gridSize&&p.addRunRecord({mode:"Single",algorithm1:D.algorithm,gridSize:p.gridSize,time1:D.executionTime,pathLength1:D.pathLength,visitedCount1:D.visitedCount}),setTimeout(()=>{p.scrollToStats()},500))})},50);s.current.push(Q)})},[a,d,u,v,w,i,o]),h=r.useCallback(()=>{document.querySelectorAll(".node-wall").forEach(y=>{y.classList.remove("node-wall")})},[]),C=r.useCallback(()=>{for(let S=1;S<=10;S++)document.querySelectorAll(`.node-weight-${S}`).forEach(R=>{R.classList.remove(`node-weight-${S}`);const g=R.querySelector(".weight-number");g&&(g.textContent="")})},[]),F=r.useCallback((S,y,R)=>{for(let g=0;g<S.length;g++){const x=setTimeout(()=>{const p=S[g];if(p.isStart||p.isFinish){g===S.length-1&&R();return}const c=document.getElementById(`node-${p.row}-${p.col}`);c&&c.classList.add("node-wall"),g===S.length-1&&R()},g*y);s.current.push(x)}S.length===0&&R()},[]),P=r.useCallback((S,y,R)=>{const g=Math.max(1,Math.floor(50/Math.max(1,y)));for(let x=0;x<S.length;x+=g){const p=Math.floor(x/g),c=setTimeout(()=>{const H=S.slice(x,Math.min(x+g,S.length));for(const T of H){const E=document.getElementById(`node-${T.row}-${T.col}`);if(E){for(let b=1;b<=10;b++)E.classList.remove(`node-weight-${b}`);E.classList.remove("node-wall"),E.classList.add(`node-weight-${T.weight}`);const _=E.querySelector(".weight-number");_&&(T.weight===10?_.textContent="‚àû":T.weight>1?_.textContent=T.weight.toString():_.textContent="")}}x+g>=S.length&&R()},p*y);s.current.push(c)}S.length===0&&R()},[]),W=r.useCallback((S,y,R,g,x,p)=>{if(t.current)return;a(),d(),h(),C();const c=Le(y),H=Fe(c);R(H);let T=null,E=null;for(const z of H)for(const N of z)N.isStart&&(T=N),N.isFinish&&(E=N);if(!T||!E)return;let _=[],b=[],L=x,M=!1;switch(S){case J.RECURSIVE_DIVISION:_=mt(H,T,E);break;case J.RANDOMIZED_DFS:_=gt(H,T,E),L=Math.max(5,x/3);break;case J.PRIMS:_=ht(H,T,E),L=Math.max(5,x/3);break;case J.SPIRAL:_=ut(H,T,E);break;case J.CELLULAR_AUTOMATA:_=dt(H,T,E),L=Math.max(5,x/3);break;case J.TERRAIN_MAP:b=ct(H,T,E,p?{frequency:p.frequency,intensity:p.intensity}:void 0),M=!0,L=Math.max(3,x/4);break;default:return}t.current=!0,g(!0),setTimeout(()=>{M?P(b,L,()=>{R(z=>{const N=z.map(j=>j.map(k=>({...k})));for(const j of b)!N[j.row][j.col].isStart&&!N[j.row][j.col].isFinish&&(N[j.row][j.col].weight=j.weight,N[j.row][j.col].isWall=!1);return N}),t.current=!1,g(!1)}):F(_,L,()=>{R(z=>{const N=z.map(j=>j.map(k=>({...k})));for(const j of _)!N[j.row][j.col].isStart&&!N[j.row][j.col].isFinish&&(N[j.row][j.col].isWall=!0);return N}),t.current=!1,g(!1)})},50)},[a,d,h,C,F,P]),I=r.useCallback(async(S,y,R,g,x,p,c)=>{if(t.current)return;a(),d(),t.current=!0,x(!0);let H=null,T=null;try{const[V,X]=await Promise.all([i(S,R,o),i(y,R,o)]);H=V,T=X}catch{}const E=()=>R.map(V=>V.map(X=>({...X,isVisited:!1,distance:1/0,previousNode:null}))),_=V=>{let X=null,q=null;for(const n of V)for(const f of n)f.isStart&&(X=f),f.isFinish&&(q=f);return!X||!q?null:{start:X,finish:q}},b=E(),L=_(b);if(!L){t.current=!1,x(!1);return}const M=performance.now(),z=w(S,b,L.start,L.finish),N=performance.now()-M,j=E(),k=_(j);if(!k){t.current=!1,x(!1);return}const D=performance.now(),Q=w(y,j,k.start,k.finish),te=performance.now()-D,me=(H==null?void 0:H.avgTime)??N,fe=(T==null?void 0:T.avgTime)??te,le=z.visitedNodes,B=Q.visitedNodes,Z=z.pathNodes,Y=Q.pathNodes,ae=Z.length>1,pe=Y.length>1,ue={algorithm:S,executionTime:me,visitedCount:le.length,pathLength:ve(Z)},_e={algorithm:y,executionTime:fe,visitedCount:B.length,pathLength:ve(Y)};let ie="tie";if(ae&&pe){const V=ve(Z),X=ve(Y);V<X?ie="agent1":X<V?ie="agent2":ue.executionTime<_e.executionTime?ie="agent1":_e.executionTime<ue.executionTime&&(ie="agent2")}else ae?ie="agent1":pe&&(ie="agent2");const A={agent1:ue,agent2:_e,winner:ie},be=new Set,we=new Set,ce=Math.max(le.length,B.length);for(let V=0;V<ce;V++){const X=setTimeout(()=>{if(V<le.length){const q=le[V];if(!q.isStart&&!q.isFinish){const n=`${q.row}-${q.col}`,f=document.getElementById(`node-${q.row}-${q.col}`);f&&(be.add(n),we.has(n)?(f.classList.remove("node-visited-second"),f.classList.add("node-visited-overlap")):f.classList.add("node-visited"))}}if(V<B.length){const q=B[V];if(!q.isStart&&!q.isFinish){const n=`${q.row}-${q.col}`,f=document.getElementById(`node-${q.row}-${q.col}`);f&&(we.add(n),be.has(n)?(f.classList.remove("node-visited"),f.classList.add("node-visited-overlap")):f.classList.add("node-visited-second"))}}if(V===ce-1){const q=setTimeout(()=>{const n=new Set;for(const U of Z)n.add(`${U.row}-${U.col}`);const f=new Set;for(const U of Y)f.add(`${U.row}-${U.col}`);const O=Math.max(Z.length,Y.length);for(let U=0;U<O;U++){const de=setTimeout(()=>{if(U<Z.length){const ee=Z[U];if(!ee.isStart&&!ee.isFinish){const Re=`${ee.row}-${ee.col}`,re=document.getElementById(`node-${ee.row}-${ee.col}`);re&&(re.classList.remove("node-visited","node-visited-second","node-visited-overlap"),f.has(Re)?re.classList.add("node-path-overlap"):re.classList.add("node-path"))}}if(U<Y.length){const ee=Y[U];if(!ee.isStart&&!ee.isFinish){const Re=`${ee.row}-${ee.col}`,re=document.getElementById(`node-${ee.row}-${ee.col}`);re&&(re.classList.remove("node-visited","node-visited-second","node-visited-overlap","node-path"),n.has(Re)?re.classList.add("node-path-overlap"):re.classList.add("node-path-second"))}}if(U===O-1&&(t.current=!1,x(!1),c)){if(c.setVisualizationStats(A),c.addRunRecord&&c.gridSize){const ee=A.winner==="agent1"?A.agent1.algorithm:A.winner==="agent2"?A.agent2.algorithm:A.winner==="tie"?"Tie":"Both Failed";c.addRunRecord({mode:"Race",algorithm1:A.agent1.algorithm,algorithm2:A.agent2.algorithm,gridSize:c.gridSize,time1:A.agent1.executionTime,pathLength1:A.agent1.pathLength,visitedCount1:A.agent1.visitedCount,time2:A.agent2.executionTime,pathLength2:A.agent2.pathLength,visitedCount2:A.agent2.visitedCount,winner:ee})}setTimeout(()=>{c.scrollToStats()},500)}},U*(p*3));s.current.push(de)}if(O===0&&(t.current=!1,x(!1),c)){if(c.setVisualizationStats(A),c.addRunRecord&&c.gridSize){const U=A.winner==="agent1"?A.agent1.algorithm:A.winner==="agent2"?A.agent2.algorithm:A.winner==="tie"?"Tie":"Both Failed";c.addRunRecord({mode:"Race",algorithm1:A.agent1.algorithm,algorithm2:A.agent2.algorithm,gridSize:c.gridSize,time1:A.agent1.executionTime,pathLength1:A.agent1.pathLength,visitedCount1:A.agent1.visitedCount,time2:A.agent2.executionTime,pathLength2:A.agent2.pathLength,visitedCount2:A.agent2.visitedCount,winner:U})}!ae&&!pe&&c.showToast&&c.showToast("Target is unreachable! Neither algorithm found a path."),setTimeout(()=>{c.scrollToStats()},500)}},50);s.current.push(q)}},V*p);s.current.push(X)}if(ce===0&&(t.current=!1,x(!1),c)){if(c.setVisualizationStats(A),c.addRunRecord&&c.gridSize){const V=A.winner==="agent1"?A.agent1.algorithm:A.winner==="agent2"?A.agent2.algorithm:A.winner==="tie"?"Tie":"Both Failed";c.addRunRecord({mode:"Race",algorithm1:A.agent1.algorithm,algorithm2:A.agent2.algorithm,gridSize:c.gridSize,time1:A.agent1.executionTime,pathLength1:A.agent1.pathLength,visitedCount1:A.agent1.visitedCount,time2:A.agent2.executionTime,pathLength2:A.agent2.pathLength,visitedCount2:A.agent2.visitedCount,winner:V})}setTimeout(()=>{c.scrollToStats()},500)}},[a,d,w,i,o]);return{visualizePathfinding:G,visualizeRace:I,generateMaze:W,clearVisualization:m,isAnimating:t}},jn="_snapContainer_15qev_13",Tn="_snapSection_15qev_51",Nn="_visualizerSection_15qev_75",An="_controlPanelSidebar_15qev_89",Rn="_gameArea_15qev_105",yn="_header_15qev_125",In="_title_15qev_139",Ln="_subtitle_15qev_153",Cn="_boardContainer_15qev_167",Mn="_legendArea_15qev_189",zn="_footer_15qev_205",En="_scrollIndicator_15qev_219",On="_mobileMenuToggle_15qev_307",Wn="_sidebarOverlay_15qev_317",Dn="_hamburgerIcon_15qev_391",$n="_sidebarOpen_15qev_487",Pn="_statsLoading_15qev_683",K={snapContainer:jn,snapSection:Tn,visualizerSection:Nn,controlPanelSidebar:An,gameArea:Rn,header:yn,title:In,subtitle:Ln,boardContainer:Cn,legendArea:Mn,footer:zn,scrollIndicator:En,mobileMenuToggle:On,sidebarOverlay:Wn,hamburgerIcon:Dn,sidebarOpen:$n,statsLoading:Pn},kn=r.lazy(()=>ke(()=>import("./statistics-DJ8MzFrZ.js"),__vite__mapDeps([0,1,2]))),Hn=r.lazy(()=>ke(()=>import("./HistorySection-BRP0lL1A.js"),__vite__mapDeps([3,1,4]))),Fn=()=>{const{grid:t,setGrid:s,setIsVisualizing:i,animationSpeed:o,selectedAlgorithm:a,secondAlgorithm:d,isRaceMode:m,clearAllWalls:u,visualizationStats:v,setVisualizationStats:w,showToast:G,selectedMaze:h,runHistory:C,clearRunHistory:F,deleteRunRecord:P,addRunRecord:W,rowCount:I,colCount:S}=Se(),{visualizePathfinding:y,visualizeRace:R,generateMaze:g,clearVisualization:x}=xn(),p=r.useRef(null),[c,H]=r.useState(!1),[T,E]=r.useState(!1);r.useEffect(()=>{if(T)return;const D=setTimeout(()=>{g(h,t,s,i,Math.max(15,o/2)),E(!0)},300);return()=>clearTimeout(D)},[T]);const _=r.useCallback(()=>{H(D=>!D)},[]),b=r.useCallback(()=>{H(!1)},[]),L=r.useCallback(()=>{var D;(D=p.current)==null||D.scrollIntoView({behavior:"smooth"})},[]),M={setVisualizationStats:w,scrollToStats:L,showToast:G,addRunRecord:W,gridSize:`${I}x${S}`},z=()=>{y(a,t,s,i,o,M)},N=()=>{d&&R(a,d,t,s,i,o,M)},j=()=>{x(t,s)},k=(D,Q)=>{j(),u(),requestAnimationFrame(()=>{setTimeout(()=>{g(D,t,s,i,Math.max(15,o/2),Q)},50)})};return e.jsxs("div",{className:K.snapContainer,children:[e.jsxs("div",{className:`${K.snapSection} ${K.visualizerSection}`,children:[e.jsx("button",{className:K.mobileMenuToggle,onClick:_,"aria-label":c?"Close menu":"Open menu","aria-expanded":c,children:e.jsx("span",{className:K.hamburgerIcon,children:c?"‚úï":"‚ò∞"})}),c&&e.jsx("div",{className:K.sidebarOverlay,onClick:b,"aria-hidden":"true"}),e.jsx("aside",{className:`${K.controlPanelSidebar} ${c?K.sidebarOpen:""}`,children:e.jsx(Vs,{onVisualize:z,onClearPath:j,onGenerateMaze:k,onVisualizeRace:N,onMobileAction:b})}),e.jsxs("div",{className:K.gameArea,children:[e.jsxs("header",{className:K.header,children:[e.jsx("h1",{className:K.title,children:"Maze & Pathfinding Visualizer"}),e.jsx("p",{className:K.subtitle,children:"Visualize pathfinding algorithms on an interactive grid"})]}),e.jsx("div",{className:K.boardContainer,children:e.jsx(Gt,{})}),e.jsx("div",{className:K.legendArea,children:e.jsx(on,{orientation:"horizontal",compact:!0})}),e.jsx("footer",{className:K.footer,children:e.jsxs("div",{className:K.scrollIndicator,onClick:L,children:[e.jsx("span",{children:"View Statistics"}),e.jsx("span",{children:"‚Üì"})]})})]})]}),e.jsx("div",{className:K.snapSection,ref:p,children:e.jsx(r.Suspense,{fallback:e.jsx("div",{className:K.statsLoading,children:"Loading Statistics..."}),children:e.jsx(kn,{stats:v,isRaceMode:m})})}),e.jsx("div",{className:K.snapSection,children:e.jsx(r.Suspense,{fallback:e.jsx("div",{className:K.statsLoading,children:"Loading History..."}),children:e.jsx(Hn,{history:C,onClearHistory:F,onDeleteRecord:P})})})]})},Gn=()=>e.jsxs(Tt,{children:[e.jsx(Fn,{}),e.jsx(vn,{})]});Ve.createRoot(document.getElementById("root")).render(e.jsx(qe.StrictMode,{children:e.jsx(Gn,{})}));
//# sourceMappingURL=index-BasIM3y1.js.map
