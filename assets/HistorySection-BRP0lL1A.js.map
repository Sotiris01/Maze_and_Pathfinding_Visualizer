{"version":3,"file":"HistorySection-BRP0lL1A.js","sources":["../../src/components/History/HistorySection.tsx"],"sourcesContent":["import React, { useMemo, useCallback } from \"react\";\r\nimport { RunRecord } from \"../../types\";\r\nimport styles from \"./HistorySection.module.css\";\r\n\r\ninterface HistorySectionProps {\r\n  history: RunRecord[];\r\n  onClearHistory: () => void;\r\n  onDeleteRecord: (id: string) => void;\r\n}\r\n\r\n/**\r\n * Format date for display\r\n */\r\nconst formatDate = (isoDate: string): string => {\r\n  const date = new Date(isoDate);\r\n  return date.toLocaleDateString(\"en-US\", {\r\n    month: \"short\",\r\n    day: \"numeric\",\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n  });\r\n};\r\n\r\n/**\r\n * Format execution time for display with exact precision\r\n * Shows microseconds (Œºs) for sub-millisecond times\r\n */\r\nconst formatTime = (ms: number): string => {\r\n  if (ms < 0.001) return `${(ms * 1000000).toFixed(1)} ns`;\r\n  if (ms < 1) return `${(ms * 1000).toFixed(1)} Œºs`;\r\n  if (ms < 1000) return `${ms.toFixed(2)} ms`;\r\n  return `${(ms / 1000).toFixed(2)} s`;\r\n};\r\n\r\n/**\r\n * HistorySection Component\r\n * Displays persistent run history with glassmorphism styling\r\n */\r\nconst HistorySection: React.FC<HistorySectionProps> = ({\r\n  history,\r\n  onClearHistory,\r\n  onDeleteRecord,\r\n}) => {\r\n  // Memoize sorted history (newest first)\r\n  const sortedHistory = useMemo(() => {\r\n    return [...history].sort((a, b) => b.timestamp - a.timestamp);\r\n  }, [history]);\r\n\r\n  // Handle clear with confirmation\r\n  const handleClear = useCallback(() => {\r\n    if (history.length === 0) return;\r\n    if (window.confirm(\"Clear all run history? This cannot be undone.\")) {\r\n      onClearHistory();\r\n    }\r\n  }, [history.length, onClearHistory]);\r\n\r\n  // Render empty state\r\n  if (history.length === 0) {\r\n    return (\r\n      <section className={styles.section}>\r\n        <div className={styles.container}>\r\n          <header className={styles.header}>\r\n            <span className={styles.headerBadge}>HISTORY</span>\r\n            <h2 className={styles.title}>Run History</h2>\r\n            <p className={styles.subtitle}>\r\n              Track your pathfinding experiments\r\n            </p>\r\n          </header>\r\n\r\n          <div className={styles.emptyState}>\r\n            <div className={styles.emptyIcon}>\r\n              <span className={styles.historyIcon}>üìã</span>\r\n              <div className={styles.pulseRing} />\r\n            </div>\r\n            <h3 className={styles.emptyTitle}>No History Yet</h3>\r\n            <p className={styles.emptyText}>\r\n              Run a pathfinding algorithm to start tracking your experiments.\r\n              <br />\r\n              History is saved locally and persists across sessions.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <section className={styles.section}>\r\n      <div className={styles.container}>\r\n        <header className={styles.header}>\r\n          <span className={styles.headerBadge}>HISTORY</span>\r\n          <h2 className={styles.title}>Run History</h2>\r\n          <p className={styles.subtitle}>\r\n            {history.length} run{history.length !== 1 ? \"s\" : \"\"} recorded\r\n          </p>\r\n        </header>\r\n\r\n        {/* Action Bar */}\r\n        <div className={styles.actionBar}>\r\n          <button\r\n            className={styles.clearButton}\r\n            onClick={handleClear}\r\n            title=\"Clear all history\"\r\n          >\r\n            üóëÔ∏è Clear History\r\n          </button>\r\n        </div>\r\n\r\n        {/* History Table */}\r\n        <div className={styles.tableWrapper}>\r\n          <table className={styles.table}>\r\n            <thead>\r\n              <tr>\r\n                <th>Date</th>\r\n                <th>Mode</th>\r\n                <th>Algorithm(s)</th>\r\n                <th>Grid</th>\r\n                <th>Time</th>\r\n                <th>Path</th>\r\n                <th>Visited</th>\r\n                <th>Result</th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {sortedHistory.map((record) => (\r\n                <tr key={record.id} className={styles.row}>\r\n                  <td className={styles.dateCell}>{formatDate(record.date)}</td>\r\n                  <td>\r\n                    <span\r\n                      className={`${styles.modeBadge} ${\r\n                        record.mode === \"Race\"\r\n                          ? styles.raceBadge\r\n                          : styles.singleBadge\r\n                      }`}\r\n                    >\r\n                      {record.mode}\r\n                    </span>\r\n                  </td>\r\n                  <td className={styles.algoCell}>\r\n                    <span className={styles.algo1}>{record.algorithm1}</span>\r\n                    {record.algorithm2 && (\r\n                      <>\r\n                        <span className={styles.vs}>vs</span>\r\n                        <span className={styles.algo2}>\r\n                          {record.algorithm2}\r\n                        </span>\r\n                      </>\r\n                    )}\r\n                  </td>\r\n                  <td className={styles.gridCell}>{record.gridSize}</td>\r\n                  <td className={styles.timeCell}>\r\n                    <span>{formatTime(record.time1)}</span>\r\n                    {record.time2 !== undefined && (\r\n                      <span className={styles.secondTime}>\r\n                        / {formatTime(record.time2)}\r\n                      </span>\r\n                    )}\r\n                  </td>\r\n                  <td className={styles.pathCell}>\r\n                    <span>{record.pathLength1}</span>\r\n                    {record.pathLength2 !== undefined && (\r\n                      <span className={styles.secondPath}>\r\n                        / {record.pathLength2}\r\n                      </span>\r\n                    )}\r\n                  </td>\r\n                  <td className={styles.visitedCell}>\r\n                    <span>{record.visitedCount1}</span>\r\n                    {record.visitedCount2 !== undefined && (\r\n                      <span className={styles.secondVisited}>\r\n                        / {record.visitedCount2}\r\n                      </span>\r\n                    )}\r\n                  </td>\r\n                  <td className={styles.resultCell}>\r\n                    {record.mode === \"Race\" && record.winner ? (\r\n                      <span\r\n                        className={`${styles.winner} ${\r\n                          record.winner === \"Tie\"\r\n                            ? styles.tie\r\n                            : record.winner === \"Both Failed\"\r\n                            ? styles.failed\r\n                            : \"\"\r\n                        }`}\r\n                      >\r\n                        {record.winner === record.algorithm1 ? \"üèÜ \" : \"\"}\r\n                        {record.winner === record.algorithm2 ? \"üèÜ \" : \"\"}\r\n                        {record.winner}\r\n                      </span>\r\n                    ) : record.pathLength1 > 0 ? (\r\n                      <span className={styles.success}>‚úì Found</span>\r\n                    ) : (\r\n                      <span className={styles.noPath}>‚úó No Path</span>\r\n                    )}\r\n                  </td>\r\n                  <td className={styles.deleteCell}>\r\n                    <button\r\n                      className={styles.deleteButton}\r\n                      onClick={() => onDeleteRecord(record.id)}\r\n                      title=\"Delete this record\"\r\n                      aria-label=\"Delete record\"\r\n                    >\r\n                      √ó\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {/* Scroll hint for mobile */}\r\n        <div className={styles.scrollHint}>\r\n          ‚Üê Scroll horizontally to see all columns ‚Üí\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default HistorySection;\r\n"],"names":["formatDate","isoDate","formatTime","ms","HistorySection","history","onClearHistory","onDeleteRecord","sortedHistory","useMemo","a","b","handleClear","useCallback","jsx","styles","jsxs","record","Fragment"],"mappings":"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"}